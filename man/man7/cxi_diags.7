.\" Automatically generated by Pandoc 2.14.1
.\"
.TH "CXI_DIAGS" "7" "2021-08-05" "Version 1.0.0" "CXI Diagnostics and Utilities"
.hy
.SH NAME
.PP
CXI Diagnostics and Utilities
.SH SYNOPSIS
.PP
The CXI Diagnostics and Utilities package contains a set of basic
performance tests and utilities designed for the Slingshot 200GbE
network interface.
.SH DESCRIPTION
.SS Device Info
.PP
Basic device information and status can be viewed using
\f[B]cxi_stat\f[R].
.SS Bandwidth
.PP
There are four client/server tests that can be used to measure
point-to-point or loopback bandwidth for various types of network
traffic.
\f[B]cxi_write_bw\f[R] and \f[B]cxi_read_bw\f[R] measure one-sided RDMA
writes and reads, respectively.
\f[B]cxi_send_bw\f[R] measures two-sided sends.
\f[B]cxi_atomic_bw\f[R] measures atomic memory operations.
.PP
\f[B]cxi_gpu_bw_loopback\f[R] runs as a single program rather than as a
client/server pair.
It measures loopback RDMA write bandwidth with an option to use GPU
memory.
.PP
Bandwidth is calculated using only the frame payload.
It can be measured uni-directionally or bi-directionally.
Uni-directional bandwidth is measured by the client, shared with the
server, and reported by both.
Bi-directional bandwidth is measured by both the client and server, who
share their results and report the combined value.
.SS Latency
.PP
There are four client/server tests that can be used to measure
point-to-point or loopback latency for various types of network traffic.
\f[B]cxi_write_lat\f[R] and \f[B]cxi_read_lat\f[R] measure one-sided
RDMA writes and reads, respectively.
\f[B]cxi_send_lat\f[R] measures two-sided sends.
\f[B]cxi_atomic_lat\f[R] measures atomic memory operations.
.PP
Latency is measured by obtaining the start and end times for individual
transactions.
All four tests use the point when software initiates the transaction as
the start time.
For \f[B]cxi_write_lat\f[R], \f[B]cxi_read_lat\f[R], and
\f[B]cxi_atomic_lat\f[R] the end time is the point when software
receives an event from the device indicating that the data has been
written to its target host buffer.
In the case of fetching atomics this is the event indicating that the
fetched data has been written.
For \f[B]cxi_send_lat\f[R] a message is sent first from client to
server, then from server to client.
The end time is the point when the second message has been written, and
the latency is estimated by halving the round-trip time.
.SS Thermal Diagnostic
.PP
\f[B]cxi_heatsink_check\f[R] is a thermal diagnostic intended to
validate that heat is being dissipated properly.
It stresses the chip by generating a large amount of small RDMA writes.
When testing a dual-NIC card, this tool must be run for both NICs
simultaneously.
.SH SEE ALSO
.PP
\f[B]cxi_atomic_bw\f[R](1), \f[B]cxi_atomic_lat\f[R](1),
\f[B]cxi_gpu_loopback_bw\f[R](1), \f[B]cxi_heatsink_check\f[R](1),
\f[B]cxi_read_bw\f[R](1), \f[B]cxi_read_lat\f[R](1),
\f[B]cxi_send_bw\f[R](1), \f[B]cxi_send_lat\f[R](1),
\f[B]cxi_stat\f[R](1), \f[B]cxi_write_bw\f[R](1),
\f[B]cxi_write_lat\f[R](1)
